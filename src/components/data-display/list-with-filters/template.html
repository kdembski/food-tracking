<div class="list-with-filters">
  <div>
    <CButton
      variant="contained"
      color="secondary"
      label="UsuÅ„ filtry"
      size="small"
      icon="times"
      class="list-with-filters__clear-filters-btn"
      :isLoading="_isLoading"
      :isDisabled="areFiltersEqualToDefault()"
      @click="clearFilters"
    />
  </div>
  <CInput
    :modelValue="filters.searchPhrasee"
    @update:modelValue="filterBySearchPhrase"
    class="list-with-filters__search-input"
    icon="magnifying-glass"
    placeholder="Szukaj po nazwie"
  />
  <CSelectTags
    :selectedTags="filters.tags"
    @update:selectedTags="filterByTags"
    :tags="availableTags"
    :isLoading="_isLoading"
    class="list-with-filters__select-tags"
  />
  <CList
    :items="list?.data"
    :isLoading="_isLoading"
    :columns="columns"
    :getItemColumnValue="getItemColumnValue"
    @sortChange="filterBySort"
  >
    <template
      v-for="field in Object.keys($slots)"
      v-slot:[field]="{ itemValue }"
    >
      <slot
        :name="field"
        :itemValue="itemValue"
        :addTagAndFilter="addTagAndFilter"
      ></slot>
    </template>
  </CList>
  <CPagination
    v-if="list?.pagination"
    :currentPage="filters.currentPage"
    @update:currentPage="changeCurrentPage"
    :paginationData="list?.pagination"
    :isLoading="_isLoading"
  />
</div>
