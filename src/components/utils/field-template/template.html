<div class="field" :class="getFieldClasses()">
  <slot></slot>
  <div v-if="icon" class="field__icon-left">
    <FontAwesomeIcon :icon="icon" />
  </div>
  <transition name="icon-right__transition">
    <div v-if="hasIconRight" class="field__icon-right">
      <transition name="icon-right__transition">
        <CLoader v-if="isLoading" />
        <CIcon v-else :type="isInvalid ? 'error': 'success'" />
      </transition>
    </div>
  </transition>
  <label :for="$attrs.id + '-field'" class="field__label">{{ label }}</label>
  <CTransition
    enterFromClass="field__error-message--transition-class"
    leaveToClass="field__error-message--transition-class"
  >
    <p v-if="isInvalid" class="field__error-message">{{ errorMessage }}</p>
  </CTransition>
</div>
